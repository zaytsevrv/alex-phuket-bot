üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫

================================================================================
–ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û
================================================================================

‚úÖ –ì–õ–ê–í–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:
   "—Ö–æ—á—É —É–≤–∏–¥–µ—Ç—å —Å–ª–æ–Ω–æ–≤" ‚Üí —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç 2 —Ç—É—Ä–∞ –ø—Ä–æ —Å–ª–æ–Ω–æ–≤!

‚úÖ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:
   ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω —Ñ–∏–ª—å—Ç—Ä —Å—Ç–æ–ø-—Å–ª–æ–≤ (~25 —Å–ª–æ–≤)
   ‚Ä¢ –§—Ä–∞–∑–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–æ–≤–∞
   ‚Ä¢ –°—Ç–æ–ø-—Å–ª–æ–≤–∞ –æ—Ç—Å–µ–∏–≤–∞—é—Ç—Å—è ("—Ö–æ—á—É", "—É–≤–∏–¥–µ—Ç—å", "–¥–∞–≤–∞–π—Ç–µ", –∏ —Ç.–¥.)
   ‚Ä¢ –ò—â–µ—Ç—Å—è –ø–æ –æ—Å—Ç–∞–≤—à–∏–º—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º —Å–ª–æ–≤–∞–º ("—Å–ª–æ–Ω–æ–≤", "–∂–∏–≤–æ—Ç–Ω—ã–µ")

================================================================================
–ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨ –ë–û–¢–ê
================================================================================

1Ô∏è‚É£  –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –µ—Å—Ç—å .env —Å —Ç–æ–∫–µ–Ω–æ–º:
    cat .env | grep TELEGRAM_BOT_TOKEN

2Ô∏è‚É£  –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
    python3 bot.py

3Ô∏è‚É£  –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram:
    –ù–∞–ø–∏—Å–∞—Ç—å: "—Ö–æ—á—É —É–≤–∏–¥–µ—Ç—å —Å–ª–æ–Ω–æ–≤"
    –û–∂–∏–¥–∞–µ—Ç—Å—è: –ë–æ—Ç –Ω–∞–π–¥–µ—Ç 2 —Ç—É—Ä–∞ –ø—Ä–æ —Å–ª–æ–Ω–æ–≤ ‚úÖ

================================================================================
–ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢
================================================================================

üß™ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (5 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤):
   python3 test_complete_hybrid.py

   –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–®–õ–ò –£–°–ü–ï–®–ù–û!

üìã –¢–µ—Å—Ç—ã —Ñ—Ä–∞–∑–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞:
   python3 test_phrase_search.py

================================================================================
–°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í
================================================================================

‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
   ‚Ä¢ bot.py - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ (–∏–∑–º–µ–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞ —Å—Ç—Ä–æ–∫–∞—Ö 415-450)
   ‚Ä¢ config.py - –∫–æ–Ω—Ñ–∏–≥
   ‚Ä¢ parser_functions.py - –ø–∞—Ä—Å–µ—Ä
   ‚Ä¢ Price22.12.2025.csv - —Ç—É—Ä—ã (99 —Ç—É—Ä–æ–≤, 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)

‚úÖ –¢–µ—Å—Ç—ã (–Ω–æ–≤—ã–µ):
   ‚Ä¢ test_complete_hybrid.py - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç (–ó–ê–ü–£–°–ö–ê–¢–¨)
   ‚Ä¢ test_phrase_search.py - —Ç–µ—Å—Ç—ã —Ñ—Ä–∞–∑

‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–Ω–æ–≤–∞—è):
   ‚Ä¢ HYBRID_SEARCH_FINAL_REPORT.md - –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç
   ‚Ä¢ QUICK_REFERENCE.txt - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
   ‚Ä¢ IMPLEMENTATION_SUMMARY.txt - –∏—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
   ‚Ä¢ FILES_CHANGED.md - —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
   ‚Ä¢ PHRASE_SEARCH_FIX.md - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

================================================================================
–ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨
================================================================================

–§–∞–π–ª: bot.py
–§—É–Ω–∫—Ü–∏—è: search_tours_by_keywords_hybrid() (—Å—Ç—Ä–æ–∫–∏ 415-450)

–î–û:
  def search_tours_by_keywords_hybrid(query):
      # 1. –ò—â–µ—Ç —Ç–æ—á–Ω–æ –ø–æ —Ñ—Ä–∞–∑–µ
      # 2. –ò—â–µ—Ç –ø–æ –∫–∞–∂–¥–æ–º—É —Å–ª–æ–≤—É (–ë–ï–ó —Ñ–∏–ª—å—Ç—Ä–∞!)
      # 3. –†–∞–∑–º–∞—Ç–Ω—ã–π –ø–æ–∏—Å–∫ (difflib)
      # 4. –ü—É—Å—Ç–æ

–°–¢–ê–õ–û:
  def search_tours_by_keywords_hybrid(query):
      # 1. –ò—â–µ—Ç —Ç–æ—á–Ω–æ –ø–æ —Ñ—Ä–∞–∑–µ
      # 2. –û—Ç—Å–µ–∏–≤–∞–µ—Ç —Å—Ç–æ–ø-—Å–ª–æ–≤–∞
      # 3. –ò—â–µ—Ç –ø–æ –æ—Å—Ç–∞–≤—à–∏–º—Å—è —Å–ª–æ–≤–∞–º (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–ª–æ–≤–∞)
      # 4. –†–∞–∑–º—ã—Ç—ã–π –ø–æ–∏—Å–∫ (difflib)
      # 5. –ü—É—Å—Ç–æ

–î–û–ë–ê–í–õ–ï–ù–û:
  stop_words = {'—Ö–æ—á—É', '–¥–∞–≤–∞–π—Ç–µ', '—É–≤–∏–¥–µ—Ç—å', '–≤–∏–¥–µ—Ç—å', ...}
  content_words = [w for w in words if len(w) > 3 and w not in stop_words]
  content_words.sort(key=len, reverse=True)  # –î–ª–∏–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –ø–µ—Ä–≤—ã–º–∏

================================================================================
–¢–ï–°–¢–û–í–´–ï –°–¶–ï–ù–ê–†–ò–ò (5/5 –ü–†–û–ô–î–ï–ù–û)
================================================================================

‚úÖ –¢–µ—Å—Ç 1: "—Ö–æ—á—É —É–≤–∏–¥–µ—Ç—å —Å–ª–æ–Ω–æ–≤"
   –û–∂–∏–¥–∞–µ—Ç—Å—è: 2 —Ç—É—Ä–∞ –ø—Ä–æ —Å–ª–æ–Ω–æ–≤
   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–ê–ô–î–ï–ù–û

‚úÖ –¢–µ—Å—Ç 2: "–ø–æ—Å–æ–≤–µ—Ç—É–π—Ç–µ —Ç—É—Ä —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏"
   –û–∂–∏–¥–∞–µ—Ç—Å—è: 2+ —Ç—É—Ä–∞ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏
   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–ê–ô–î–ï–ù–û

‚úÖ –¢–µ—Å—Ç 3: "—Ä–∞—Ñ—Ç–∏–Ω–≥"
   –û–∂–∏–¥–∞–µ—Ç—Å—è: 1+ —Ç—É—Ä —Å —Ä–∞—Ñ—Ç–∏–Ω–≥–æ–º
   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–ê–ô–î–ï–ù–û

‚úÖ –¢–µ—Å—Ç 4: –ö–Ω–æ–ø–∫–∞ "üîÑ –ù–æ–≤—ã–π –ø–æ–∏—Å–∫"
   –û–∂–∏–¥–∞–µ—Ç—Å—è: –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–µ–Ω—é
   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–ê–ô–î–ï–ù–û

‚úÖ –¢–µ—Å—Ç 5: –•–ò–¢ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   –û–∂–∏–¥–∞–µ—Ç—Å—è: –ú–æ—Ä–µ, –°—É—à–∞ —Å–µ–º–µ–π–Ω—ã–µ, –°—É—à–∞ –æ–±–∑–æ—Ä–Ω—ã–µ –≤–∏–¥–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ
   –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –í–ò–î–ù–´

================================================================================
–ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢
================================================================================

1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ—à–∏–±–∫–∞:
   python3 -m py_compile bot.py

2. –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:
   python3 test_complete_hybrid.py

3. –ò–º–ø–æ—Ä—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
   python3 << 'EOF'
   from telegram import Update
   from telegram.ext import Application
   print("‚úÖ –ò–º–ø–æ—Ä—Ç—ã OK")
   EOF

4. CSV –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:
   python3 << 'EOF'
   import pandas as pd
   df = pd.read_csv('Price22.12.2025.csv', sep=';', encoding='utf-8-sig')
   print(f"‚úÖ –¢—É—Ä–æ–≤: {len(df)}")
   EOF

================================================================================
–ö–û–ù–¢–ê–ö–¢–´ –ò –°–¢–ê–¢–£–°
================================================================================

–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:
  ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python
  ‚úÖ –ò–º–ø–æ—Ä—Ç—ã
  ‚úÖ CSV –¥–∞–Ω–Ω—ã–µ (99 —Ç—É—Ä–æ–≤)
  ‚úÖ –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫
  ‚úÖ –ú–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å: python3 bot.py

================================================================================
